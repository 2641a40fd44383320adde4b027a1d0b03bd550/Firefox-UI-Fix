@use 'true' as *;
@use "../src/utils/color_scheme";

@include test-module("Color scheme is dark [mix]") {
  @include test("simple") {
    @include assert {
      @include output {
        @include color_scheme.Dark {
          body {
            font-size: 16px;
          }
        }
      }
      @include expect {
        @media (-moz-toolbar-prefers-color-scheme: dark), (prefers-color-scheme: dark) {
          body {
            font-size: 16px;
          }
        }
      }
    }
  }

  @include test("simple reversed") {
    @include assert {
      @include output {
        body {
          @include color_scheme.Dark {
            font-size: 16px;
          }
        }
      }
      @include expect {
        @media (-moz-toolbar-prefers-color-scheme: dark), (prefers-color-scheme: dark) {
          body {
            font-size: 16px;
          }
        }
      }
    }
  }
}

@include test-module("Color scheme is light [mix]") {
  @include test("simple") {
    @include assert {
      @include output {
        @include color_scheme.Light {
          body {
            font-size: 16px;
          }
        }
      }
      @include expect {
        @media (-moz-toolbar-prefers-color-scheme: light), (prefers-color-scheme: light) {
          body {
            font-size: 16px;
          }
        }
      }
    }
  }

  @include test("simple reversed") {
    @include assert {
      @include output {
        body {
          @include color_scheme.Light {
            font-size: 16px;
          }
        }
      }
      @include expect {
        @media (-moz-toolbar-prefers-color-scheme: light), (prefers-color-scheme: light) {
          body {
            font-size: 16px;
          }
        }
      }
    }
  }
}

@include test-module("Color contrast [mix]") {
  @include test("simple") {
    @include assert {
      @include output {
        @include color_scheme.Contrast {
          body {
            font-size: 16px;
          }
        }
      }
      @include expect {
        @media (prefers-contrast) {
          body {
            font-size: 16px;
          }
        }
      }
    }
  }
}

@include test-module("Color not contrast [mix]") {
  @include test("simple") {
    @include assert {
      @include output {
        @include color_scheme.NotContrast {
          body {
            font-size: 16px;
          }
        }
      }
      @include expect {
        @media not all and (prefers-contrast) {
          body {
            font-size: 16px;
          }
        }
      }
    }
  }
}

@include test-module("Animate, not reduced motion [mix]") {
  @include test("simple") {
    @include assert {
      @include output {
        @include color_scheme.Animate {
          body {
            font-size: 16px;
          }
        }
      }
      @include expect {
        @media (prefers-reduced-motion: no-preference) {
          body {
            font-size: 16px;
          }
        }
      }
    }
  }
}
